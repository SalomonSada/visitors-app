<<<<<<< HEAD
[{"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\index.js":"1","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\App.js":"2","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\store.js":"3","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\index.js":"4","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\alert.js":"5","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\types.js":"6","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\auth.js":"7","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Navbar.js":"8","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\auth.js":"9","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\alert.js":"10","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\utils\\setAuthToken.js":"11","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\auth\\Register.js":"12","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Alert.js":"13","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\auth\\Login.js":"14","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\visitor.js":"15","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\visitor.js":"16","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitor\\RegisterVisitor.js":"17","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitor\\Visitors.js":"18","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Spinner.js":"19","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitor\\VisitorItem.js":"20","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\routing\\PrivateRoute.js":"21"},{"size":199,"mtime":1609688629034,"results":"22","hashOfConfig":"23"},{"size":1492,"mtime":1609709285470,"results":"24","hashOfConfig":"23"},{"size":399,"mtime":1609689089720,"results":"25","hashOfConfig":"23"},{"size":193,"mtime":1609698608171,"results":"26","hashOfConfig":"23"},{"size":508,"mtime":1609689369610,"results":"27","hashOfConfig":"23"},{"size":710,"mtime":1609711079074,"results":"28","hashOfConfig":"23"},{"size":1149,"mtime":1609694924864,"results":"29","hashOfConfig":"23"},{"size":1670,"mtime":1609706646158,"results":"30","hashOfConfig":"23"},{"size":1795,"mtime":1609695720797,"results":"31","hashOfConfig":"23"},{"size":401,"mtime":1609689536174,"results":"32","hashOfConfig":"23"},{"size":253,"mtime":1609689024598,"results":"33","hashOfConfig":"23"},{"size":2917,"mtime":1609705104075,"results":"34","hashOfConfig":"23"},{"size":495,"mtime":1609691726328,"results":"35","hashOfConfig":"23"},{"size":2054,"mtime":1609705544251,"results":"36","hashOfConfig":"23"},{"size":987,"mtime":1609711110441,"results":"37","hashOfConfig":"23"},{"size":2184,"mtime":1609717917969,"results":"38","hashOfConfig":"23"},{"size":2563,"mtime":1609704254535,"results":"39","hashOfConfig":"23"},{"size":2024,"mtime":1609717906069,"results":"40","hashOfConfig":"23"},{"size":270,"mtime":1609708029338,"results":"41","hashOfConfig":"23"},{"size":520,"mtime":1609715609690,"results":"42","hashOfConfig":"23"},{"size":743,"mtime":1609709338831,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1u5wz8y",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"46"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\index.js",[],["88","89"],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\App.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\store.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\index.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\alert.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\types.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\auth.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Navbar.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\auth.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\alert.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\utils\\setAuthToken.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\auth\\Register.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Alert.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\auth\\Login.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\visitor.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\visitor.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitor\\RegisterVisitor.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitor\\Visitors.js",["90"],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Spinner.js",["91"],"import React, { Fragment } from 'react';\r\nimport spinner from './spinner.gif';\r\n\r\nexport default () => (\r\n  <Fragment>\r\n    <img\r\n      src={spinner}\r\n      style={{ width: '200px', margin: 'auto', display: 'block' }}\r\n      alt=\"Loading...\"\r\n    />\r\n  </Fragment>\r\n);\r\n","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitor\\VisitorItem.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\routing\\PrivateRoute.js",[],{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","severity":1,"message":"97","line":26,"column":9,"nodeType":"98","messageId":"99","endLine":26,"endColumn":17},{"ruleId":"100","severity":1,"message":"101","line":4,"column":1,"nodeType":"102","endLine":12,"endColumn":3},"no-native-reassign",["103"],"no-negated-in-lhs",["104"],"no-unused-vars","'filtered' is assigned a value but never used.","Identifier","unusedVar","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]
=======
[{"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\index.js":"1","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\App.js":"2","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\store.js":"3","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\index.js":"4","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\alert.js":"5","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\types.js":"6","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\auth.js":"7","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Navbar.js":"8","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\auth.js":"9","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\alert.js":"10","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\utils\\setAuthToken.js":"11","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\auth\\Register.js":"12","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Alert.js":"13","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\auth\\Login.js":"14","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\visitor.js":"15","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\visitor.js":"16","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitor\\RegisterVisitor.js":"17","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Spinner.js":"18","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitor\\UpdateVisitor.js":"19","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitors\\Visitors.js":"20","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitors\\VisitorList.js":"21","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitors\\VisitorItem.js":"22","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitors\\VisitorItemTable.js":"23","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitors\\VisitorPartialTable.js":"24"},{"size":207,"mtime":1615758974311,"results":"25","hashOfConfig":"26"},{"size":1680,"mtime":1615062248507,"results":"27","hashOfConfig":"26"},{"size":399,"mtime":1609719414646,"results":"28","hashOfConfig":"26"},{"size":193,"mtime":1609719414646,"results":"29","hashOfConfig":"26"},{"size":508,"mtime":1609719414645,"results":"30","hashOfConfig":"26"},{"size":787,"mtime":1611098082732,"results":"31","hashOfConfig":"26"},{"size":1150,"mtime":1613337098448,"results":"32","hashOfConfig":"26"},{"size":2595,"mtime":1613857985619,"results":"33","hashOfConfig":"26"},{"size":1804,"mtime":1631745609486,"results":"34","hashOfConfig":"26"},{"size":401,"mtime":1611021308526,"results":"35","hashOfConfig":"26"},{"size":253,"mtime":1613340211967,"results":"36","hashOfConfig":"26"},{"size":4064,"mtime":1613855396760,"results":"37","hashOfConfig":"26"},{"size":495,"mtime":1609719414640,"results":"38","hashOfConfig":"26"},{"size":2152,"mtime":1613334827122,"results":"39","hashOfConfig":"26"},{"size":1146,"mtime":1611098297652,"results":"40","hashOfConfig":"26"},{"size":3168,"mtime":1613260384501,"results":"41","hashOfConfig":"26"},{"size":6985,"mtime":1613330944765,"results":"42","hashOfConfig":"26"},{"size":298,"mtime":1610207322943,"results":"43","hashOfConfig":"26"},{"size":7944,"mtime":1627783277306,"results":"44","hashOfConfig":"26"},{"size":6109,"mtime":1615067744704,"results":"45","hashOfConfig":"26"},{"size":992,"mtime":1615057271952,"results":"46","hashOfConfig":"26"},{"size":3652,"mtime":1613339417430,"results":"47","hashOfConfig":"26"},{"size":2914,"mtime":1615066533487,"results":"48","hashOfConfig":"26"},{"size":4090,"mtime":1615070628049,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"1u5wz8y",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"52"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"52"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"52"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"52"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"52"},"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\index.js",[],["105","106"],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\App.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\store.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\index.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\alert.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\types.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\auth.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Navbar.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\auth.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\alert.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\utils\\setAuthToken.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\auth\\Register.js",["107","108","109","110","111","112"],"import React, { Fragment, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { setAlert } from '../../actions/alert';\r\nimport { register } from '../../actions/auth';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Register = ({ setAlert, register, isAuthenticated }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    password2: '',\r\n    rol: '',\r\n  });\r\n\r\n  const { name, email, password, password2, rol } = formData;\r\n\r\n  const clearFormData = () => {\r\n    name = '';\r\n    email = '';\r\n    password = '';\r\n    password2 = '';\r\n    rol = '';\r\n  };\r\n\r\n  const onChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (password !== password2)\r\n      setAlert('Las contraseñas no coinciden', 'danger');\r\n    if (rol === '' || rol === '0')\r\n      setAlert('Establezca el rol de usuario', 'danger');\r\n    else {\r\n      register({ name, email, password, rol });\r\n      setAlert('Usuario registrado', 'success');\r\n    }\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  // https://stackoverflow.com/questions/38552003/how-to-decode-jwt-token-in-javascript-without-using-a-library\r\n  const parseJwt = (token) => {\r\n    var base64Url = token.split('.')[1];\r\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n    var jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split('')\r\n        .map(function (c) {\r\n          return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n        })\r\n        .join('')\r\n    );\r\n\r\n    return JSON.parse(jsonPayload);\r\n  };\r\n\r\n  const userToken = parseJwt(localStorage.token);\r\n\r\n  // Redirect if doesn't have aproppiated rol\r\n  if (userToken.user.rol !== 'Admin') {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <h1 className=\"large text-primary\">Registrate</h1>\r\n      <p className=\"lead\">\r\n        <i className=\"fas fa-user m-1\"></i>Crea tu Usuario\r\n      </p>\r\n      <form className=\"form\" onSubmit={(e) => onSubmit(e)}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Nombre\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={(e) => onChange(e)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Correo Electrónico\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={(e) => onChange(e)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <select name=\"rol\" value={rol} onChange={(e) => onChange(e)}>\r\n            <option value=\"0\">Seleccione Rol de usuario</option>\r\n            <option value=\"Admin\">Admin</option>\r\n            <option value=\"Ujier\">Ujier</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Contraseña\"\r\n            name=\"password\"\r\n            /*  minLength=\"6\" */\r\n            value={password}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Confirma tu Contraseña\"\r\n            name=\"password2\"\r\n            /*  minLength=\"6\" */\r\n            value={password2}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n        </div>\r\n        <input\r\n          type=\"submit\"\r\n          value=\"Registrar\"\r\n          className=\"btn btn-primary btn-altern\"\r\n        />\r\n      </form>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nRegister.propTypes = {\r\n  setAlert: PropTypes.func.isRequired,\r\n  register: PropTypes.func.isRequired,\r\n  isAuthenticated: PropTypes.bool,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setAlert, register })(Register);\r\n","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Alert.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\auth\\Login.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\reducers\\visitor.js",[],["113","114"],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\actions\\visitor.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitor\\RegisterVisitor.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\layout\\Spinner.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitor\\UpdateVisitor.js",["115"],"import React, { useState, Fragment, useEffect } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { createVisitor, getVisitorById } from '../../actions/visitor';\r\n\r\nconst UpdateVisitor = ({\r\n  visitor: { visitor, loading },\r\n  createVisitor,\r\n  history,\r\n  getVisitorById,\r\n  match,\r\n}) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    cellphone: '',\r\n    direction: '',\r\n    zip: 0,\r\n    birthday: '',\r\n    amount: '',\r\n    ages: '',\r\n    prayRequest: '',\r\n    yes: false,\r\n    otherChurch: '',\r\n  });\r\n\r\n  const [displayOptions, toggleOptions] = useState({\r\n    sonsOptions: false,\r\n    otherChuchOption: false,\r\n  });\r\n\r\n  const { sonsOptions, otherChuchOption } = displayOptions;\r\n\r\n  useEffect(() => {\r\n    getVisitorById(match.params._id);\r\n\r\n    setFormData({\r\n      name: loading || !visitor.name ? '' : visitor.name,\r\n      email: loading || !visitor.email ? '' : visitor.email,\r\n      cellphone: loading || !visitor.cellphone ? '' : visitor.cellphone,\r\n      direction: loading || !visitor.direction ? '' : visitor.direction,\r\n      zip: loading || !visitor.zip ? '' : visitor.zip,\r\n      birthday:\r\n        loading || !visitor.birthday ? '' : visitor.birthday.slice(0, 10),\r\n      amount: loading || !visitor.sons.amount ? '' : visitor.sons.amount,\r\n      ages: loading || !visitor.sons.amount ? '' : visitor.sons.ages.join(),\r\n      prayRequest: loading || !visitor.prayRequest ? '' : visitor.prayRequest,\r\n      otherChurch: loading || !visitor.otherChurch ? '' : visitor.otherChurch,\r\n    });\r\n    toggleOptions({\r\n      sonsOptions: loading || !visitor.sons.amount ? false : true,\r\n    });\r\n  }, [setFormData, loading, match.params._id, toggleOptions]);\r\n\r\n  const {\r\n    name,\r\n    email,\r\n    cellphone,\r\n    direction,\r\n    zip,\r\n    checkZip,\r\n    birthday,\r\n    amount,\r\n    ages,\r\n    prayRequest,\r\n    yes,\r\n    otherChurch,\r\n  } = formData;\r\n\r\n  const onChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onChangeAndCheck = (e) => {\r\n    if (!isNaN(e.target.value)) {\r\n      return setFormData({ ...formData, zip: e.target.value });\r\n    }\r\n    setFormData({ ...formData, checkZip: true });\r\n    if (e.target.value === '') {\r\n      setFormData({ ...formData, checkZip: false });\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    createVisitor({ ...formData, _id: match.params._id }, history, true);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <h1 className=\"large text-primary\">Actualiza un Visitante</h1>\r\n      <p className=\"lead\">\r\n        <i className=\"fas fa-user m-1\"></i>Agrega la siguiente información!{' '}\r\n        <small>* = Campos Obligatorios</small>\r\n      </p>\r\n      <form className=\"form\" onSubmit={(e) => onSubmit(e)}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"* Nombre\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"* Correo Electrónico\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"* Número de teléfono\"\r\n            name=\"cellphone\"\r\n            value={cellphone}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Direccion\"\r\n            name=\"direction\"\r\n            value={direction}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"* ZipCode, Ej: 32804\"\r\n            name=\"zip\"\r\n            value={zip}\r\n            onChange={(e) => onChangeAndCheck(e)}\r\n          />\r\n          {checkZip && (\r\n            <div>\r\n              {' '}\r\n              <small>El campo ZipCode acepta solamente números.</small>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <h4 className=\"left\">Fecha de nacimiento</h4>\r\n          <input\r\n            type=\"date\"\r\n            name=\"birthday\"\r\n            value={birthday}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n        </div>\r\n        {/*  */}\r\n        <div className=\"my-1 left\">\r\n          <button\r\n            onClick={() =>\r\n              toggleOptions({ ...displayOptions, sonsOptions: !sonsOptions })\r\n            }\r\n            type=\"button\"\r\n            className=\"btn btn-light textbold\"\r\n          >\r\n            Agregar Hijos (Opcional)\r\n          </button>\r\n          <span></span>\r\n        </div>\r\n        {sonsOptions && (\r\n          <Fragment>\r\n            <div className=\"form-group\">\r\n              <select\r\n                name=\"amount\"\r\n                value={amount}\r\n                onChange={(e) => onChange(e)}\r\n              >\r\n                <option value=\"0\">Seleccione la cantidad de hijos</option>\r\n                <option value=\"1\">1</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"3\">3</option>\r\n                <option value=\"4\">4</option>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"o\">Más de 5</option>\r\n              </select>\r\n            </div>\r\n            {Number(amount) > 0 && (\r\n              <div className=\"form-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Edades\"\r\n                  name=\"ages\"\r\n                  value={ages}\r\n                  onChange={(e) => onChange(e)}\r\n                />\r\n                <small className=\"form-text\">\r\n                  Por favor, separar cada edad con una coma (ej. 4, 9, 14)\r\n                </small>\r\n              </div>\r\n            )}\r\n          </Fragment>\r\n        )}\r\n\r\n        <div className=\"form-group\">\r\n          ¿Asiste a otra Iglesia?\r\n          <input\r\n            type=\"checkbox\"\r\n            className=\"m\"\r\n            name=\"yes\"\r\n            value={yes}\r\n            onClick={() =>\r\n              toggleOptions({\r\n                ...displayOptions,\r\n                otherChuchOption: !otherChuchOption,\r\n              })\r\n            }\r\n          />\r\n          {otherChuchOption && (\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Nombre de la Iglesia\"\r\n                name=\"otherChurch\"\r\n                value={otherChurch}\r\n                onChange={(e) => onChange(e)}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            type=\"text\"\r\n            placeholder=\"Petición de Oración...\"\r\n            name=\"prayRequest\"\r\n            value={prayRequest}\r\n            onChange={(e) => onChange(e)}\r\n            rows=\"5\"\r\n            cols=\"40\"\r\n            className=\"peticion\"\r\n          />\r\n        </div>\r\n        <input\r\n          type=\"submit\"\r\n          className=\"btn btn-primary my-1\"\r\n          value=\"Actualizar   \"\r\n        />\r\n        <Link className=\"btn btn-light my-1 textbold\" to=\"/visitors\">\r\n          Ver Visitantes\r\n        </Link>\r\n      </form>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nUpdateVisitor.propTypes = {\r\n  createVisitor: PropTypes.func.isRequired,\r\n  getVisitorById: PropTypes.func.isRequired,\r\n  visitor: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  visitor: state.visitor,\r\n});\r\n\r\nexport default connect(mapStateToProps, { createVisitor, getVisitorById })(\r\n  withRouter(UpdateVisitor)\r\n);\r\n","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitors\\Visitors.js",["116"],"import React, { Fragment, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../layout/Spinner';\r\nimport {\r\n  getAllVisitors,\r\n  setSearchField,\r\n  setSearchField2,\r\n} from '../../actions/visitor';\r\nimport VisitorList from './VisitorList';\r\nimport VisitorPartialTable from './VisitorPartialTable';\r\n\r\nconst Visitors = ({\r\n  visitor: { visitors, loading, searchField, searchFieldToDate },\r\n  getAllVisitors,\r\n  setSearchField,\r\n  setSearchField2,\r\n  auth,\r\n}) => {\r\n  const [formData, setFormData] = useState({\r\n    filterBy: 0,\r\n  });\r\n\r\n  const [displayOptions, toggleOptions] = useState({\r\n    celular: false,\r\n  });\r\n  const { celular } = displayOptions;\r\n\r\n  const { filterBy } = formData;\r\n\r\n  const onChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllVisitors();\r\n  }, [getAllVisitors]);\r\n\r\n  function parseJwt(token) {\r\n    var base64Url = token.split('.')[1];\r\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n    var jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split('')\r\n        .map(function (c) {\r\n          return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n        })\r\n        .join('')\r\n    );\r\n\r\n    return JSON.parse(jsonPayload);\r\n  }\r\n\r\n  const userToken = parseJwt(localStorage.token);\r\n\r\n  // console.log(userToken.user.rol);\r\n\r\n  const filteredVisitor = visitors.filter((visitor) => {\r\n    switch (filterBy) {\r\n      case '1':\r\n        return visitor.name.toLowerCase().includes(searchField.toLowerCase());\r\n      case '2': //zip\r\n        if (visitor.zip) return visitor.zip.toString().includes(searchField);\r\n      case '3':\r\n        let from = new Date(searchField).getTime(); // miliseconds from 1970 to the date in  searchFiled\r\n        let to = new Date(searchFieldToDate).getTime();\r\n        let time = new Date(visitor.date).getTime();\r\n        if (searchField === '' || searchFieldToDate === '') return visitors;\r\n        return from < time && time <= to; // + a day in miliseconds\r\n      case '4':\r\n        let today = new Date();\r\n        let day = String(today.getDate());\r\n        let month = String(today.getMonth() + 1);\r\n        let year = today.getFullYear();\r\n        if (month.length === 1) month = 0 + month;\r\n        if (day.length === 1) day = 0 + day;\r\n        today = year + '-' + month + '-' + day;\r\n        return visitor.date.toString().includes(today);\r\n      default:\r\n        return visitors;\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <Spinner />\r\n      ) : (\r\n        <Fragment>\r\n          <h1 className=\"large text-primary\">Visitantes</h1>\r\n          <p className=\"lead\">\r\n            <i className=\"fas fa-search\"></i> Busca los visitantes ya\r\n            registrados\r\n          </p>\r\n          <button\r\n            onClick={() =>\r\n              toggleOptions({ ...displayOptions, celular: !celular })\r\n            }\r\n            type=\"button\"\r\n            className=\"btn btn-light textbold m\"\r\n          >\r\n            Ver\r\n            {!celular ? ' visualización por tabla' : ' visualización agrupada'}\r\n          </button>\r\n\r\n          <div className=\"form form-group\">\r\n            <select\r\n              name=\"filterBy\"\r\n              value={filterBy}\r\n              onChange={(e) => onChange(e)}\r\n            >\r\n              <option value={0}>Seleccionar Filtro</option>\r\n              <option value={1}>Nombre</option>\r\n              <option value={2}>ZipCode</option>\r\n              <option value={3}>Fecha</option>\r\n              <option value={4}>Hoy</option>\r\n            </select>\r\n          </div>\r\n\r\n          {filterBy > 0 &&\r\n            filterBy <= 2 && ( // debe ir hasta 3, despues de arreglar zipcode\r\n              <div className=\"form form-group search-input\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder={`Filtre aca`}\r\n                  name=\"name\"\r\n                  onChange={(e) => setSearchField(e.target.value)}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n          {filterBy === '3' && (\r\n            <Fragment>\r\n              <small>Desde</small>\r\n              <div className=\"form form-group search-input\">\r\n                <input\r\n                  type=\"date\"\r\n                  placeholder={`Filtre aca`}\r\n                  name=\"name\"\r\n                  onChange={(e) => setSearchField(e.target.value)}\r\n                />\r\n              </div>\r\n              <small>Hasta</small>\r\n              <div className=\"form form-group search-input construccion\">\r\n                <input\r\n                  type=\"date\"\r\n                  placeholder={`Filtre aca`}\r\n                  name=\"name\"\r\n                  onChange={(e) => setSearchField2(e.target.value)}\r\n                />\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n          {!celular ? (\r\n            <div className=\"profiles\">\r\n              {visitors.length > 0 ? (\r\n                <VisitorList\r\n                  visitorL={filteredVisitor}\r\n                  rol={userToken.user.rol}\r\n                />\r\n              ) : (\r\n                <Spinner />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {visitors.length > 0 ? (\r\n                <VisitorPartialTable\r\n                  visitorL={filteredVisitor}\r\n                  rol={userToken.user.rol}\r\n                />\r\n              ) : (\r\n                <Spinner />\r\n              )}\r\n            </div>\r\n          )}\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nVisitors.propTypes = {\r\n  getAllVisitors: PropTypes.func.isRequired,\r\n  setSearchField: PropTypes.func.isRequired,\r\n  setSearchField2: PropTypes.func.isRequired,\r\n  visitor: PropTypes.object.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  visitor: state.visitor,\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAllVisitors,\r\n  setSearchField,\r\n  setSearchField2,\r\n})(Visitors);\r\n","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitors\\VisitorList.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitors\\VisitorItem.js",[],"D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitors\\VisitorItemTable.js",["117"],"import React, { Fragment, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { deleteVisitor, getVisitorById } from '../../actions/visitor';\r\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel';\r\n\r\nconst VisitorItemTable = ({ visitorL, rol }) => {\r\n  return (\r\n    <Fragment>\r\n      <ReactHTMLTableToExcel\r\n        id=\"exportar\"\r\n        className=\"btn btn-light textbold m\"\r\n        table=\"visitantes\"\r\n        filename={`Visitantes a fecha ${new Date().toString().slice(0, 15)}`}\r\n        sheet=\"Visitantes\"\r\n        buttonText=\"Exportar a Excel\"\r\n      />\r\n      <div>\r\n        <table className=\"m-1\" id=\"visitantes\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"p-x m-x\">Nombre</th>\r\n              <th className=\"p-x m-x\">Email</th>\r\n              <th className=\"p-x m-x\">Teléfono</th>\r\n              <th className=\"p-x m-x\">Dirección</th>\r\n              <th className=\"p-x m-x\">Zipcode</th>\r\n              <th className=\"p-x m-x\">Visita</th>\r\n              <th className=\"p-x m-x\">nacimiento</th>\r\n              <th className=\"p-x m-x\">Hijos</th>\r\n              <th className=\"p-x m-x\">Iglesia</th>\r\n              <th className=\"p-x m-x\">Peticion</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {visitorL.map((visitor, i) => {\r\n              return (\r\n                <tr>\r\n                  <td className=\"p-x m-x\">{visitorL[i].name}</td>\r\n                  <td className=\"p-x m-x\">{visitorL[i].email}</td>\r\n                  <td className=\"p-x m-x\">{visitorL[i].cellphone}</td>\r\n                  <td className=\"p-x m-x\">{visitorL[i].direction}</td>\r\n                  <td>{visitorL[i].zip}</td>\r\n                  <td className=\"p-x m-x\">{visitorL[i].date.slice(0, 10)}</td>\r\n                  <td className=\"p-x m-x\">\r\n                    {visitorL[i].birthday && visitorL[i].birthday.slice(0, 10)}\r\n                  </td>\r\n                  <td>\r\n                    {visitorL[i].sons.ages.length > 0 &&\r\n                      visitorL[i].sons.ages.join(', ') + ' años'}\r\n                  </td>\r\n                  <td>{visitorL[i].otherChurch}</td>\r\n                  <td>{visitorL[i].prayRequest}</td>\r\n                  {/* <td   ver + info\r\n                    className=\"p-x m-x pointerCursor\"\r\n                    onClick={() => {\r\n                      console.log('test');\r\n                    }}\r\n                  >\r\n                    +\r\n                  </td> */}\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nVisitorItemTable.propTypes = {\r\n  // visitor: PropTypes.object.isRequired,\r\n  deleteVisitor: PropTypes.func.isRequired,\r\n  getVisitorById: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(null, { deleteVisitor, getVisitorById })(\r\n  VisitorItemTable\r\n);\r\n","D:\\Usuarios\\Escritorio\\salomon\\proyectos\\visitors-app\\client\\src\\componets\\visitors\\VisitorPartialTable.js",["118","119"],"import React, { Fragment, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { deleteVisitor, getVisitorById } from '../../actions/visitor';\r\nimport VisitorItemTable from './VisitorItemTable';\r\nimport Spinner from '../layout/Spinner';\r\n\r\nconst VisitorPartialTable = ({ visitorL, rol }) => {\r\n  const [formData, setFormData] = useState({\r\n    edit: false,\r\n    pray: false,\r\n    exportar: false,\r\n  });\r\n\r\n  const { edit, pray, exportar } = formData;\r\n  return (\r\n    <Fragment>\r\n      <button\r\n        className=\"btn btn-light textbold m\"\r\n        onClick={() => setFormData({ ...formData, exportar: !exportar })}\r\n      >\r\n        {!exportar\r\n          ? 'Pre exportar a Excel'\r\n          : 'Volver a visualización por tabla'}\r\n      </button>\r\n      {!exportar ? (\r\n        <div className=\"partialTable\">\r\n          <table className=\"m-1\" id=\"visitantes\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"p-x m-x\">Nombre</th>\r\n                <th className=\"p-x m-x\">Email</th>\r\n                <th className=\"p-x m-x\">Teléfono</th>\r\n                <th className=\"p-x m-x\">Dirección</th>\r\n                <th className=\"p-x m-x\">Zipcode</th>\r\n                <th className=\"p-x m-x\">Visita</th>\r\n                <th className=\"p-x m-x\">+Info</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {visitorL.map((visitor, i) => {\r\n                return (\r\n                  <tr>\r\n                    <td className=\"p-x m-x\">{visitorL[i].name}</td>\r\n                    <td className=\"p-x m-x\">{visitorL[i].email}</td>\r\n                    <td className=\"p-x m-x\">{visitorL[i].cellphone}</td>\r\n                    <td className=\"p-x m-x\">{visitorL[i].direction}</td>\r\n                    <td>{visitorL[i].zip}</td>\r\n                    <td className=\"p-x m-x\">{visitorL[i].date.slice(0, 10)}</td>\r\n                    <td\r\n                      className=\"p-x m-x pointerCursor\"\r\n                      onClick={() => {\r\n                        alert(\r\n                          visitorL[i].birthday\r\n                            ? '\\nFecha de nacimiento: ' +\r\n                                visitorL[i].birthday.slice(0, 10)\r\n                            : '\\nFecha de nacimiento: Sin datos'\r\n                        );\r\n                        alert(\r\n                          visitorL[i].sons.amount > 0\r\n                            ? '\\nCantidad de hijos: ' +\r\n                                visitorL[i].sons.amount +\r\n                                ' || Edad(es): ' +\r\n                                visitorL[i].sons.ages.join(', ') +\r\n                                ' años'\r\n                            : '\\nCantidad de hijos: 0'\r\n                        );\r\n                        alert(\r\n                          visitorL[i].otherChurch\r\n                            ? '\\nVisita otra iglesia: ' +\r\n                                visitorL[i].otherChurch\r\n                            : '\\nVisita otra iglesia: No'\r\n                        );\r\n                        alert(\r\n                          visitorL[i].prayRequest\r\n                            ? '\\nPetición de oración: ' +\r\n                                visitorL[i].prayRequest\r\n                            : '\\nPetición de oración: Sin datos'\r\n                        );\r\n                      }}\r\n                    >\r\n                      +\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {visitorL.length > 0 ? (\r\n            <VisitorItemTable visitorL={visitorL} />\r\n          ) : (\r\n            <Spinner />\r\n          )}\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nVisitorPartialTable.propTypes = {\r\n  // visitor: PropTypes.object.isRequired,\r\n  deleteVisitor: PropTypes.func.isRequired,\r\n  getVisitorById: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(null, { deleteVisitor, getVisitorById })(\r\n  VisitorPartialTable\r\n);\r\n",{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","replacedBy":"123"},{"ruleId":"124","severity":1,"message":"125","line":19,"column":9,"nodeType":"126","messageId":"127","endLine":19,"endColumn":22},{"ruleId":"128","severity":1,"message":"129","line":20,"column":5,"nodeType":"126","messageId":"130","endLine":20,"endColumn":9},{"ruleId":"128","severity":1,"message":"131","line":21,"column":5,"nodeType":"126","messageId":"130","endLine":21,"endColumn":10},{"ruleId":"128","severity":1,"message":"132","line":22,"column":5,"nodeType":"126","messageId":"130","endLine":22,"endColumn":13},{"ruleId":"128","severity":1,"message":"133","line":23,"column":5,"nodeType":"126","messageId":"130","endLine":23,"endColumn":14},{"ruleId":"128","severity":1,"message":"134","line":24,"column":5,"nodeType":"126","messageId":"130","endLine":24,"endColumn":8},{"ruleId":"120","replacedBy":"135"},{"ruleId":"122","replacedBy":"136"},{"ruleId":"137","severity":1,"message":"138","line":54,"column":6,"nodeType":"139","endLine":54,"endColumn":61,"suggestions":"140"},{"ruleId":"141","severity":1,"message":"142","line":64,"column":7,"nodeType":"143","messageId":"144","endLine":69,"endColumn":42},{"ruleId":"124","severity":1,"message":"145","line":1,"column":27,"nodeType":"126","messageId":"127","endLine":1,"endColumn":35},{"ruleId":"124","severity":1,"message":"146","line":15,"column":11,"nodeType":"126","messageId":"127","endLine":15,"endColumn":15},{"ruleId":"124","severity":1,"message":"147","line":15,"column":17,"nodeType":"126","messageId":"127","endLine":15,"endColumn":21},"no-native-reassign",["148"],"no-negated-in-lhs",["149"],"no-unused-vars","'clearFormData' is assigned a value but never used.","Identifier","unusedVar","no-const-assign","'name' is constant.","const","'email' is constant.","'password' is constant.","'password2' is constant.","'rol' is constant.",["148"],["149"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getVisitorById', 'visitor.birthday', 'visitor.cellphone', 'visitor.direction', 'visitor.email', 'visitor.name', 'visitor.otherChurch', 'visitor.prayRequest', 'visitor.sons.ages', 'visitor.sons.amount', and 'visitor.zip'. Either include them or remove the dependency array. If 'getVisitorById' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["150"],"no-fallthrough","Expected a 'break' statement before 'case'.","SwitchCase","case","'useState' is defined but never used.","'edit' is assigned a value but never used.","'pray' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"151","fix":"152"},"Update the dependencies array to be: [setFormData, loading, match.params._id, toggleOptions, getVisitorById, visitor.name, visitor.email, visitor.cellphone, visitor.direction, visitor.zip, visitor.birthday, visitor.sons.amount, visitor.sons.ages, visitor.prayRequest, visitor.otherChurch]",{"range":"153","text":"154"},[1752,1807],"[setFormData, loading, match.params._id, toggleOptions, getVisitorById, visitor.name, visitor.email, visitor.cellphone, visitor.direction, visitor.zip, visitor.birthday, visitor.sons.amount, visitor.sons.ages, visitor.prayRequest, visitor.otherChurch]"]
>>>>>>> master
